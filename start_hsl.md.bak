# Stock Trading System ìš´ì˜ ê°€ì´ë“œ

## ğŸš€ ìƒíƒœ (2025-11-10) âœ… ë°°ì¹˜ ìš´ì˜ ì²´ê³„ í™•ë¦½ ì™„ë£Œ!

### âœ… í˜„ì¬ ì§„í–‰ ìƒí™©

**ìƒíƒœ**: ğŸŸ¢ ëª¨ë“  ì‹œìŠ¤í…œ ì •ìƒ ìš´ì˜ ì¤‘ - ìš´ì˜ ê°€ì´ë“œ ì™„ì„±

#### ğŸ†• 2025-11-10 ìµœì¢… ì™„ë£Œëœ ì‘ì—…:
- âœ… **ë°°ì¹˜ ìŠ¤ì¼€ì¤„ ìµœì í™”**
  - ì£¼ê°€ ìˆ˜ì§‘ ì‹œê°„: **16:30 KST (UTC 07:30) í‰ì¼ ì‹¤í–‰**
  - ì§€í‘œ ê³„ì‚°: **ì£¼ê°€ ìˆ˜ì§‘ ì™„ë£Œ í›„ ìë™ ì‹¤í–‰ (TriggerDagRunOperator)**
  - ExternalTaskSensor â†’ TriggerDagRunOperatorë¡œ ë³€ê²½ (ëŒ€ê¸° ì—†ì´ ì¦‰ì‹œ ì‹¤í–‰)
  - start_date ì—…ë°ì´íŠ¸: 2025-11-10 (catchup ë°©ì§€)

- âœ… **ë¬¸ì„œ ì²´ê³„ í™•ë¦½**
  - [ë¬¸ì„œ ì •ë¦¬ ê·œì¹™](docs/DOCUMENTATION_RULES.md) ì‘ì„± ì™„ë£Œ
  - [ì¼ì¼ ë°°ì¹˜ ìš´ì˜ ë§¤ë‰´ì–¼](docs/operations/daily_batch_operations.md) ì‘ì„± ì™„ë£Œ
  - docs/index.md ì—…ë°ì´íŠ¸ (ìš´ì˜ ê°€ì´ë“œ ì¶”ê°€)
  - ì¹´í…Œê³ ë¦¬ë³„ ë””ë ‰í† ë¦¬ êµ¬ì¡° ì •ì˜ (architecture, deployment, guides, operations, troubleshooting)

- âœ… **ìš´ì˜ í™˜ê²½ ë¶„ë¦¬**
  - ìš´ì˜ì„œë²„(101, 192.168.219.101)ì—ì„œë§Œ Airflow ì‹¤í–‰
  - ê°œë°œ PC Docker ì¤‘ì§€ (environment separation ì™„ë£Œ)

#### ğŸ†• 2025-11-06 ì™„ë£Œëœ ì‘ì—…:
- âœ… **ì‹œìŠ¤í…œ ì „ì²´ ê¸°ë™**
  - Docker Compose 10ê°œ ì„œë¹„ìŠ¤ ì •ìƒ ì‹¤í–‰
  - Airflow ìŠ¤ì¼€ì¤„ëŸ¬ ì •ìƒ ì‘ë™ (ë¡œì»¬ postgres ë¶„ë¦¬)
  - ìš´ì˜ DB ì—°ê²° ì •ìƒ (192.168.219.103)
- âœ… **ë¡œê·¸ì¸ ê¸°ëŠ¥ ìˆ˜ì •**
  - ë¹„ë°€ë²ˆí˜¸ ê¸°ë³¸ê°’ ìˆ˜ì •: `password123` â†’ `testpass123`
  - 401 Unauthorized ì—ëŸ¬ í•´ê²°
  - ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- âœ… **UI ë‚ ì§œ í•„í„° ê°œì„ **
  - ì§€í‘œë¶„ì„ íƒ­: 2025-10-02 ê³ ì • â†’ ë™ì  ì˜¤ëŠ˜ ë‚ ì§œ
  - ë§¤ë§¤ë¶„ì„ íƒ­: 2025-10-02 ê³ ì • â†’ ë™ì  ì˜¤ëŠ˜ ë‚ ì§œ
  - ìë™ìœ¼ë¡œ ìµœì‹  ë°ì´í„° í‘œì‹œ
- âœ… **ë¬¸ì„œ ì‘ì„±**
  - WORK_PROGRESS_20251106.md ì‘ì„±
  - index.md ë° start_hsl.md ì—…ë°ì´íŠ¸

#### ğŸ“ ì´ì „ ì™„ë£Œëœ ì‘ì—…:
- âœ… **ìŠ¤í¬ë¦¬ë‹ & ë°±í…ŒìŠ¤íŒ… ì‹œìŠ¤í…œ ì „ì²´ êµ¬í˜„ íŒŒì•…**
  - ğŸ“„ êµ¬í˜„ ê°€ì´ë“œ ì‘ì„±: `SCREENING_BACKTESTING_IMPLEMENTATION_GUIDE.md`
  - 32ê°œ ê¸°ìˆ ì§€í‘œ ì§€ì›
  - ê¸°ë³¸ ì œê³µ ì „ëµ 3ê°œ (ëª¨ë©˜í…€ ëŒíŒŒ, ê³¼ë§¤ë„ ë°˜ë“±, ì•ˆì •ì  ì¶”ì„¸)
  - ì‚¬ìš©ìê°€ ì „ëµ ì§ì ‘ ë“±ë¡/ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
  - í¬íŠ¸í´ë¦¬ì˜¤ ë°±í…ŒìŠ¤íŒ… & ì„±ê³¼ ë¶„ì„
- âœ… **Frontend í† í° ê²€ì¦ ì˜¤ë¥˜ ìˆ˜ì •**
  - 401 Unauthorized ì—ëŸ¬ ìë™ ì²˜ë¦¬
  - ë§Œë£Œëœ í† í° ìë™ ì œê±°
  - ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€ í‘œì‹œ

#### âœ… ì´ì „ ì™„ë£Œëœ ì‘ì—…:
- âœ… **2025-11-04 UI ë°ì´í„° ì—°ë™ ì™„ì„±** - DB ì—°ê²° ë¬¸ì œ ì™„ë²½ í•´ê²°
- âœ… October 31 ~ November 4 ë°ì´í„° ìˆ˜ì§‘ 100% ì™„ë£Œ
- âœ… ê¸°ìˆ  ì§€í‘œ ê³„ì‚° ì™„ë£Œ (3,005,232ê°œ ë ˆì½”ë“œ)
- âœ… Airflow DAG ìë™ ìŠ¤ì¼€ì¤„ ì •ìƒ ì‘ë™ ì¤‘
  - 16:30 KST: daily_collection_dag (ì£¼ê°€/ì§€ìˆ˜ ìˆ˜ì§‘)
  - 17:30 KST: technical_indicator_dag (ê¸°ìˆ  ì§€í‘œ ê³„ì‚°)
- âœ… ë¡œê·¸ì¸ ì •ìƒí™” (JWT ì¸ì¦)
- âœ… API ë°ì´í„° ì¡°íšŒ ì •ìƒí™” (2,781ê°œ ì¢…ëª© ë°˜í™˜)
- âœ… í”„ë¡ íŠ¸ì—”ë“œ UI ì •ìƒ ë¡œë”©

#### ğŸ¯ ìŠ¤í¬ë¦¬ë‹ & ë°±í…ŒìŠ¤íŒ… ì‹œìŠ¤í…œ ì‚¬ìš© ë°©ë²•:

**1. ìŠ¤í¬ë¦¬ë‹ í˜ì´ì§€ ì ‘ì†**
```
http://localhost:8000/static/screening.html
```

**2. ê¸°ë³¸ ì „ëµ 3ê°œ ì¤‘ ì„ íƒ**
- ëª¨ë©˜í…€ ëŒíŒŒ: RSI + MACD + ADX (ê°•í•œ ìƒìŠ¹)
- ê³¼ë§¤ë„ ë°˜ë“±: RSI + MFI + CCI (ë°˜ë“± ê¸°íšŒ)
- ì•ˆì •ì  ì¶”ì„¸: RSI + ADX + MACD (ê³¼ì—´ ì—†ëŠ” ì¶”ì„¸)

**3. ë˜ëŠ” ì‚¬ìš©ì ì •ì˜ ì „ëµ ìƒì„±**
- 32ê°œ ê¸°ìˆ ì§€í‘œ ì¤‘ ì„ íƒ
- ë‹¤ì¤‘ ì¡°ê±´ ì¡°í•© (ê³¨ë“ í¬ë¡œìŠ¤, ë°ë“œí¬ë¡œìŠ¤, ì„ê³„ê°’ ë“±)
- "ì „ëµ ì €ì¥" ìœ¼ë¡œ ë‹¤ìŒì— ì¬ì‚¬ìš©

**4. ë°±í…ŒìŠ¤íŒ… ì‹¤í–‰**
- ì´ˆê¸° ìë³¸, í¬ì§€ì…˜ í¬ê¸°, ê±°ë˜ë¹„ìš© ì„¤ì •
- í¬íŠ¸í´ë¦¬ì˜¤ ì„±ê³¼ ë¶„ì„ (ìˆ˜ìµë¥ , ìƒ¤í”„ë¹„ìœ¨, ìµœëŒ€ì†ì‹¤í­ ë“±)

#### ğŸ“š ê´€ë ¨ ë¬¸ì„œ:
- **[SCREENING_BACKTESTING_IMPLEMENTATION_GUIDE.md](./SCREENING_BACKTESTING_IMPLEMENTATION_GUIDE.md)** - ì „ì²´ ì‹œìŠ¤í…œ êµ¬í˜„ ê°€ì´ë“œ
- **[docs/SCREENING_BACKTESTING_USER_MANUAL_KO.md](./docs/SCREENING_BACKTESTING_USER_MANUAL_KO.md)** - ì‚¬ìš©ì ë§¤ë‰´ì–¼
- **[WORK_PROGRESS_20251105.md](./WORK_PROGRESS_20251105.md)** - ì˜¤ëŠ˜ì˜ ì‘ì—… ì™„ë£Œ ìš”ì•½

#### ë‹¤ìŒ ë‹¨ê³„:
1. **ì¼ì¼ ìë™ ìˆ˜ì§‘ ì§„í–‰**
   - ì‹œê°„: 16:30 KST (ë§¤ì¼ ìë™)
   - Airflow Web UI ëª¨ë‹ˆí„°ë§: http://localhost:8080

2. **ë°ì´í„° ê²€ì¦** (í•„ìš”ì‹œ)
   ```bash
   python << 'EOF'
   import psycopg2
   conn = psycopg2.connect(
       host='192.168.219.103', port=5432, database='stocktrading',
       user='admin', password='admin123'
   )
   cursor = conn.cursor()
   cursor.execute("SELECT COUNT(DISTINCT date), COUNT(*) FROM stock_prices")
   dates, records = cursor.fetchone()
   print(f"Stock Prices: {dates} dates, {records:,} records")
   conn.close()
   EOF
   ```

---

**ìµœì‹  ì—…ë°ì´íŠ¸**: 2025-11-05 ìŠ¤í¬ë¦¬ë‹ & ë°±í…ŒìŠ¤íŒ… ì‹œìŠ¤í…œ êµ¬í˜„ ì™„ë£Œ
**ìƒíƒœ**: ğŸŸ¢ ì¦‰ì‹œ ìš´ì˜ ê°€ëŠ¥ (ëª¨ë“  ê¸°ëŠ¥ ì™„ì„±)

---

## âš ï¸ ê¸´ê¸‰ ê³µì§€ (2025-10-28)

### ğŸ‘‰ **ë°˜ë“œì‹œ ë¨¼ì € ì½ì–´ì•¼ í•  íŒŒì¼**
â†’ **[WORK_PROGRESS_20251028.md](./WORK_PROGRESS_20251028.md)** â† í´ë¦­

**ë‚´ìš©**:
- 2025-10-28 ì§„í–‰ ìƒí™© ë° ë¬¸ì œ ë¶„ì„
- ë‹¤ìŒë‚  ì‹¤í–‰í•  í…ŒìŠ¤íŠ¸ ëª©ë¡
- íŠ¸ëœì­ì…˜ ê²©ë¦¬ ë¬¸ì œ í•´ê²° ë°©ë²•
- ë””ë²„ê¹… íŒ ë° í™•ì¸ ëª…ë ¹ì–´

**ìƒíƒœ**: ğŸŸ¡ ë§ˆì§€ë§‰ 1ë‹¨ê³„ë§Œ ë‚¨ìŒ
- âœ… 3ê°€ì§€ ê²€ì¦ ì™„ë£Œ (ëª¨ë“ˆ, ë°ì´í„° ìˆ˜ì§‘, DB ì €ì¥ ì›ì¸ íŒŒì•…)
- âœ… KOSPI+KOSDAQ ìˆ˜ì§‘ ì½”ë“œ ìˆ˜ì •
- â³ SQLAlchemy íŠ¸ëœì­ì…˜ ê²©ë¦¬ ê°œì„  ì¤‘

---

## ğŸ“‹ ëª©ì°¨

1. [ğŸ“– ë¬¸ì„œ ê´€ë¦¬ ì•ˆë‚´](#-ë¬¸ì„œ-ê´€ë¦¬-ì•ˆë‚´-ë§¤ìš°-ì¤‘ìš”)
2. [ğŸ“š í•„ë… ë¬¸ì„œ ëª©ë¡](#-í•„ë…-ë¬¸ì„œ-ëª©ë¡-2025-10-29)
3. [ê¸´ê¸‰ ì¡°ì¹˜](#ê¸´ê¸‰-ì¡°ì¹˜-20251028)
4. [ë¹ ë¥¸ ì‹œì‘](#ë¹ ë¥¸-ì‹œì‘)
5. [ìë™ ì‹¤í–‰ ìŠ¤ì¼€ì¤„](#ìë™-ì‹¤í–‰-ìŠ¤ì¼€ì¤„)
6. [ìˆ˜ë™ ìˆ˜ì§‘/ê³„ì‚°](#ìˆ˜ë™-ìˆ˜ì§‘ê³„ì‚°)
7. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)

---

## ğŸ“– ë¬¸ì„œ ê´€ë¦¬ ì•ˆë‚´ (ë§¤ìš° ì¤‘ìš”!)

### ğŸ“Œ ìƒˆë¡œìš´ ë¬¸ì„œ êµ¬ì¡° (2025-11-04ë¶€í„° ì ìš©)

**ëª¨ë“  ë¬¸ì„œê°€ `index.md`ì— ê¸°ë¡ë˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤!**

#### ë¬¸ì„œ ìƒì„± í”„ë¡œì„¸ìŠ¤

ìƒˆë¡œìš´ ì‘ì—…ì„ ì™„ë£Œí•  ë•Œë§ˆë‹¤ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥´ì„¸ìš”:

**1ï¸âƒ£ ì‘ì—… ì™„ë£Œ í›„ ë¬¸ì„œ ì‘ì„±**
```
WORK_PROGRESS_YYYYMMDD.md íŒŒì¼ ìƒì„±
â”œâ”€ ğŸ“‹ ìš”ì•½ ì„¹ì…˜
â”œâ”€ ğŸ” ë¬¸ì œ ë° í•´ê²° ë°©ë²•
â”œâ”€ âœ… í…ŒìŠ¤íŠ¸ ê²°ê³¼
â””â”€ ğŸ“ ì£¼ì˜ì‚¬í•­
```

**2ï¸âƒ£ start_hsl.md ì—…ë°ì´íŠ¸**
```
- ìµœì‹  ìƒíƒœ ì •ë³´ ê°±ì‹ 
- ìƒˆ ë¬¸ì„œ ë§í¬ ì¶”ê°€
- ì™„ë£Œëœ ì‘ì—… í‘œì‹œ (âœ…)
```

**3ï¸âƒ£ index.md ì—…ë°ì´íŠ¸** â­ **í•„ìˆ˜**
```
- ìƒˆ ë¬¸ì„œë¥¼ "ì¼ì¼ ì‘ì—… ì§„í–‰ í˜„í™©" í‘œì— ì¶”ê°€
- ë‚ ì§œ, íŒŒì¼ëª…, ì£¼ìš” ë‚´ìš© ê¸°ì…
- ë³€ê²½ ì´ë ¥ì— ì¶”ê°€
```

#### ì˜ˆì‹œ: ë¬¸ì„œ ì¶”ê°€ ë°©ë²•

```markdown
# index.mdì— ì¶”ê°€

| ë‚ ì§œ | íŒŒì¼ | ì£¼ìš” ë‚´ìš© |
|------|------|---------|
| 2025-11-04 | [WORK_PROGRESS_20251104.md](./WORK_PROGRESS_20251104.md) | âœ… **UI ë°ì´í„° ì—°ë™** |
| 2025-11-05 | [WORK_PROGRESS_20251105.md](./WORK_PROGRESS_20251105.md) | âœ… **ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€** |
```

#### âš ï¸ ì£¼ì˜

- `index.md`ì— ê¸°ë¡ë˜ì§€ ì•Šì€ ë¬¸ì„œëŠ” **ì°¾ê¸° ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤**
- ëª¨ë“  ìƒˆë¡œìš´ WORK_PROGRESS_*.md íŒŒì¼ì€ ë°˜ë“œì‹œ `index.md`ì— ì¶”ê°€í•˜ì„¸ìš”
- `start_hsl.md`ëŠ” **í˜„ì¬ ìƒíƒœ ìš”ì•½**ë§Œ í¬í•¨
- **ìì„¸í•œ ë‚´ìš©ì€ í•´ë‹¹ WORK_PROGRESS_*.md íŒŒì¼ ì°¸ê³ **

#### ğŸ”— ë¹ ë¥¸ ë§í¬
- **ì „ì²´ ë¬¸ì„œ ëª©ë¡**: [index.md](./index.md) â† ëª¨ë“  ë¬¸ì„œë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!
- **ì˜¤ëŠ˜ ì‘ì—…**: [WORK_PROGRESS_20251104.md](./WORK_PROGRESS_20251104.md)

---

## ğŸ“š í•„ë… ë¬¸ì„œ ëª©ë¡ (2025-10-29)

ìƒˆë¡œ ì‘ì„±ëœ í†µí•© ìš´ì˜ ê°€ì´ë“œì…ë‹ˆë‹¤. ê° ìƒí™©ì— ë§ê²Œ ì°¸ê³ í•˜ì„¸ìš”.

### ğŸ“– í•µì‹¬ 3ê°€ì§€ ë¬¸ì„œ

#### 1ï¸âƒ£ DATABASE_CONFIG.md
**íŒŒì¼**: `DATABASE_CONFIG.md`
**ìš©ë„**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë° ì¡°íšŒ ê°€ì´ë“œ
**í¬í•¨ ë‚´ìš©**:
- ìš´ì˜ DB vs Docker ë‚´ë¶€ DB ë¹„êµ
- ëª¨ë“  í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ (stock_prices, technical_indicators, collection_log, indicator_log)
- Pythonì—ì„œ psycopg2/SQLAlchemyë¡œ ì—°ê²°í•˜ëŠ” ë°©ë²•
- ìì£¼ ì‚¬ìš©í•˜ëŠ” 5ê°€ì§€ SQL ì¿¼ë¦¬
- ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ ì˜ì‚¬ê²°ì • ê°€ì´ë“œ
- DB ì—°ê²° ë¬¸ì œ í•´ê²° (ping, psql í…ŒìŠ¤íŠ¸, ë°©í™”ë²½ ë“±)

**ì–¸ì œ ì½ì„ê¹Œ**: "DBë¥¼ ì¡°íšŒí•˜ê³  ì‹¶ë‹¤", "ì–´ëŠ DBë¥¼ ë´ì•¼ í• ê¹Œ?" í•  ë•Œ ë¨¼ì € ì½ê¸°

---

#### 2ï¸âƒ£ PYTHON_SAMPLE_CODE.md
**íŒŒì¼**: `PYTHON_SAMPLE_CODE.md`
**ìš©ë„**: Python ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± ë° ì‹¤í–‰ ìƒ˜í”Œ ì½”ë“œ
**í¬í•¨ ë‚´ìš©**:
- í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜ (pykrx, psycopg2, sqlalchemy, pandas)
- DB ì—°ê²° ìƒ˜í”Œ (psycopg2, SQLAlchemy, Docker ë‚´ë¶€)
- ë°ì´í„° ìˆ˜ì§‘ ìƒ˜í”Œ (pykrxë¡œ ì£¼ê°€/ì§€ìˆ˜ ìˆ˜ì§‘)
- ë°ì´í„° ì €ì¥ ìƒ˜í”Œ (UPSERT ë°©ì‹)
- ì „ì²´ í†µí•© ìˆ˜ì§‘ ìŠ¤í¬ë¦½íŠ¸ (ì™„ì„±ëœ ì½”ë“œ)
- ì¼ë°˜ Python, Docker, Airflow DAG ì‹¤í–‰ ë°©ë²•
- ëª¨ë“ˆ ì—ëŸ¬ í•´ê²° ê°€ì´ë“œ
- requirements.txt íŒŒì¼

**ì–¸ì œ ì½ì„ê¹Œ**: Python ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì§ì ‘ ì‘ì„±/ì‹¤í–‰í•  ë•Œ, ëª¨ë“ˆ ì—ëŸ¬ê°€ ë‚  ë•Œ

---

#### 3ï¸âƒ£ MISSING_DATA_RECOVERY.md
**íŒŒì¼**: `MISSING_DATA_RECOVERY.md`
**ìš©ë„**: ëˆ„ë½ëœ ë°ì´í„° ìˆ˜ì§‘ ë° ì§€í‘œ ì¬ê³„ì‚°
**í¬í•¨ ë‚´ìš©**:
- ëˆ„ë½ëœ ë‚ ì§œ ëª©ë¡ ë° í™•ì¸ ì¿¼ë¦¬
- Python ìŠ¤í¬ë¦½íŠ¸ë¡œ ëˆ„ë½ ë°ì´í„° ìˆ˜ì§‘ (complete ì˜ˆì œ)
- Airflow DAG ë˜ëŠ” ë°±í•„ ê¸°ëŠ¥ìœ¼ë¡œ ìˆ˜ì§‘
- ìˆ˜ì§‘ í›„ ë°ì´í„° ê²€ì¦ (SQL ì¿¼ë¦¬, Python ìŠ¤í¬ë¦½íŠ¸)
- ì§€í‘œ ì¬ê³„ì‚° ë°©ë²• (DAG ë˜ëŠ” Python)
- API íƒ€ì„ì•„ì›ƒ, ì¤‘ë³µ ë°ì´í„°, ë©”ëª¨ë¦¬ ë¶€ì¡± í•´ê²°
- cron/Windows ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬ ìë™í™”

**ì–¸ì œ ì½ì„ê¹Œ**: 2025-10-27, 2025-10-28ì²˜ëŸ¼ ë°ì´í„°ê°€ ëˆ„ë½ë˜ì—ˆì„ ë•Œ

---

### ğŸ“‹ ìë™ ìƒì„± ìš”ì•½

| ë¬¸ì„œ | ìš©ë„ | ì–¸ì œ ì½ì„ê¹Œ |
|------|------|-----------|
| **DATABASE_CONFIG.md** | DB ì—°ê²°/ì¡°íšŒ | DBë¥¼ ì²˜ìŒ ë´¤ì„ ë•Œ í•„ìˆ˜ |
| **PYTHON_SAMPLE_CODE.md** | ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± | Python ì½”ë“œ ì‘ì„±í•  ë•Œ |
| **MISSING_DATA_RECOVERY.md** | ëˆ„ë½ ë°ì´í„° ë³µêµ¬ | íŠ¹ì • ë‚ ì§œ ë°ì´í„°ê°€ ì—†ì„ ë•Œ |

---

## ê¸´ê¸‰ ì¡°ì¹˜ (2025-10-28)

### ì¦‰ì‹œ ì‹¤í–‰í•  ì‘ì—… (5ë¶„)

```bash
# 1. WORK_PROGRESS_20251028.md ì½ê¸°
cat /f/hhstock/WORK_PROGRESS_20251028.md

# 2. common_functions.pyì—ì„œ SQLAlchemy ë¶€ë¶„ ìˆ˜ì •
# (ê° í–‰ë§ˆë‹¤ ê°œë³„ ì„¸ì…˜ ìƒì„±ìœ¼ë¡œ ë³€ê²½)
# ë‹¤ìŒ ì„¹ì…˜ ì°¸ì¡°: "ë‹¤ìŒ ë‹¨ê³„ > ìš°ì„ ìˆœìœ„ 1"

# 3. Dockerì— íŒŒì¼ ë³µì‚¬
docker cp /f/hhstock/stock-trading-system/airflow/dags/common_functions.py stock-airflow-scheduler:/opt/airflow/dags/

# 4. Airflow ì¬ì‹œì‘
docker restart stock-airflow-scheduler

# 5. í…ŒìŠ¤íŠ¸ ì‹¤í–‰
docker exec stock-airflow-scheduler airflow dags test daily_collection_dag 2025-10-28

# 6. ê²°ê³¼ í™•ì¸
docker exec stock-db psql -U admin -d stocktrading -c "
  SELECT COUNT(*) FROM stock_prices WHERE date = '2025-10-28';"
```

**ê¸°ëŒ€ ê²°ê³¼**: `950` ì´ìƒì˜ í–‰ì´ ì €ì¥ë¨ âœ…

---

## ë¹ ë¥¸ ì‹œì‘

### âš ï¸ ìš´ì˜ í™˜ê²½ ì „ìš© ì‹¤í–‰

**2025-11-10 ë¶€í„°**: ìš´ì˜ì„œë²„(101, 192.168.219.101)ì—ì„œë§Œ Airflowë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
ê°œë°œ PCì—ì„œëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### ìš´ì˜ì„œë²„ Airflow ì ‘ì†

```bash
# Airflow Web UI ì ‘ì† (ìš´ì˜ì„œë²„ 101ì—ì„œë§Œ ì‹¤í–‰ ì¤‘)
http://192.168.219.101:8080
```

### ê°œë°œ PCì—ì„œ ë°°í¬í•˜ê¸°

```bash
# 1. ë³€ê²½ì‚¬í•­ì„ deployment íŒ¨í‚¤ì§€ì— ë³µì‚¬
cd /f/hhstock/deployment/101_scheduler

# 2. ìš´ì˜ì„œë²„ì— ë°°í¬
bash deployment/101_scheduler/deploy.sh  # ë˜ëŠ” ì•„ë˜ ìˆ˜ë™ ë°©ë²•

# 3. ë˜ëŠ” SCPë¡œ ì§ì ‘ ì „ì†¡
scp deployment/101_scheduler/docker-compose.yml hansol@192.168.219.101:~/deploy_temp/
scp -r deployment/101_scheduler/airflow hansol@192.168.219.101:~/deploy_temp/

# 4. ìš´ì˜ì„œë²„ì—ì„œ ë°°í¬ ì‹¤í–‰
ssh hansol@192.168.219.101
bash ~/deploy.sh
```

### ê°œë°œ PCì—ì„œ ë¡œì»¬ í…ŒìŠ¤íŠ¸ (í•„ìš”ì‹œë§Œ)

```bash
# ë¡œì»¬ì—ì„œë§Œ Airflow ì‹¤í–‰ (ìš´ì˜ ì„œë²„ì—ëŠ” ì˜í–¥ ì—†ìŒ)
cd /f/hhstock
docker-compose up -d

# í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ ì¤‘ì§€
docker-compose down
```

---

## ìë™ ì‹¤í–‰ ìŠ¤ì¼€ì¤„

### ğŸ“… ë§¤ì¼ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” DAG (2025-11-10 ìµœì¢… êµ¬ì„±)

| ì‹œê°„ (KST) | ì‹œê°„ (UTC) | DAG ì´ë¦„ | ì—­í•  | ì˜ì¡´ì„± | ì£¼ê¸° |
|-----------|----------|---------|------|--------|------|
| **16:30** | **07:30** | `daily_collection_dag` | ì£¼ê°€ ë° ì§€ìˆ˜ ìˆ˜ì§‘ | ë…ë¦½ ì‹¤í–‰ | í‰ì¼ë§Œ |
| **(ìë™)** | **(ìë™)** | `technical_indicator_dag` | ê¸°ìˆ  ì§€í‘œ ê³„ì‚° | daily_collection_dag ì™„ë£Œ | daily_collection_dag ì‹¤í–‰ ì‹œ |

### ì‹¤í–‰ íë¦„
```
16:30 KST (07:30 UTC) â†’ ì£¼ê°€/ì§€ìˆ˜ ìˆ˜ì§‘ (daily_collection_dag)
         â†“ (ì™„ë£Œ ì§í›„)
ìë™ íŠ¸ë¦¬ê±° â†’ ê¸°ìˆ  ì§€í‘œ ê³„ì‚° (technical_indicator_dag)
         â†“
ì™„ë£Œ â†’ collection_log & indicator_log ì—…ë°ì´íŠ¸
```

### ì£¼ìš” ê°œì„ ì‚¬í•­ (2025-11-10)
- âœ… **ì‹œê°„ ë³€ê²½**: 18:30 KST â†’ **16:30 KST (ì£¼ì‹ì‹œì¥ ë§ˆê° í›„ 1ì‹œê°„ 30ë¶„)**
- âœ… **ì˜ì¡´ì„± ê´€ë¦¬**: ExternalTaskSensor â†’ **TriggerDagRunOperatorë¡œ ë³€ê²½**
  - ì„¼ì„œ ëŒ€ê¸°ë¡œ ì¸í•œ ì§€ì—° ì œê±°
  - ìˆ˜ì§‘ ì™„ë£Œ ì§í›„ ì¦‰ì‹œ ì§€í‘œ ê³„ì‚° ì‹œì‘
- âœ… **ì¼ì • ê´€ë¦¬**: schedule_interval='30 7 * * 1-5' (cron í˜•ì‹, í‰ì¼ë§Œ)
- âœ… **catchup ë°©ì§€**: start_date=2025-11-10 ì„¤ì •

---

## â° ë°°ì¹˜ì‹œê°„ ê²½ê³¼ í›„ ìˆ˜ë™ ìˆ˜ì§‘ (2025-11-07 ì‹ ê·œ)

### ğŸ“Œ ìƒí™©: ë°°ì¹˜ ìŠ¤ì¼€ì¤„(16:30, 17:30 KST)ì„ ë†“ì³¤ê±°ë‚˜ ì‹¤íŒ¨í•œ ê²½ìš°

#### ğŸš€ ë¹ ë¥¸ ìˆ˜ë™ ìˆ˜ì§‘ (5ë¶„)

**1ë‹¨ê³„: í˜„ì¬ ë‚ ì§œ ê¸°ì¤€ ì£¼ê°€ ë° ì§€ìˆ˜ ìˆ˜ì§‘**
```bash
# Windows PowerShellì—ì„œ ì‹¤í–‰
cd F:\hhstock
python -c "
import sys
sys.path.append('F:/hhstock/stock-trading-system/airflow/dags')
from common_functions import fetch_stock_prices_api, fetch_market_indices_api, save_stock_prices, save_market_indices
from datetime import datetime

target_date = datetime.now().strftime('%Y-%m-%d')
print(f'Collecting stock prices for {target_date}...')

# ì£¼ê°€ ìˆ˜ì§‘
prices = fetch_stock_prices_api(target_date)
if prices:
    save_stock_prices(prices, target_date)
    print(f'âœ… {len(prices)} stock prices saved')
else:
    print(f'âŒ No stock prices collected')

# ì§€ìˆ˜ ìˆ˜ì§‘
indices = fetch_market_indices_api(target_date)
if indices:
    save_market_indices(indices, target_date)
    print(f'âœ… {len(indices)} indices saved')
else:
    print(f'âŒ No indices collected')
"
```

**2ë‹¨ê³„: ê¸°ìˆ  ì§€í‘œ ê³„ì‚° ë° ì €ì¥**
```bash
# Windows PowerShellì—ì„œ ì‹¤í–‰
cd F:\hhstock
python -c "
import sys
sys.path.append('F:/hhstock/stock-trading-system/airflow/dags')
from common_functions import load_stock_prices, calculate_indicators, save_technical_indicators
from datetime import datetime

target_date = datetime.now().strftime('%Y-%m-%d')
print(f'Calculating technical indicators for {target_date}...')

# ì£¼ê°€ ë¡œë“œ (ë‹¹ì¼ + 200ì¼ ì—­ì‚¬)
prices_df = load_stock_prices(target_date)

if not prices_df.empty:
    # ì§€í‘œ ê³„ì‚°
    indicators_df = calculate_indicators(prices_df)

    # ì§€í‘œ ì €ì¥
    save_technical_indicators(indicators_df, target_date)
    print(f'âœ… Technical indicators calculated and saved')
else:
    print(f'âŒ No prices loaded for indicator calculation')
"
```

#### ğŸ“‹ ìì„¸í•œ ìˆ˜ë™ ìˆ˜ì§‘ ê°€ì´ë“œ
â†’ [MANUAL_DATA_COLLECTION_20251023.md](./MANUAL_DATA_COLLECTION_20251023.md) ì°¸ê³ 

#### âœ… ìˆ˜ì§‘ ì™„ë£Œ í™•ì¸
```bash
# ë°ì´í„° ê°œìˆ˜ í™•ì¸
python << 'EOF'
import psycopg2
from datetime import datetime

target_date = datetime.now().strftime('%Y-%m-%d')
conn = psycopg2.connect(
    host='192.168.219.103',
    port=5432,
    database='stocktrading',
    user='admin',
    password='admin123'
)
cursor = conn.cursor()

cursor.execute(f"SELECT COUNT(*) FROM stock_prices WHERE date = '{target_date}'")
price_count = cursor.fetchone()[0]

cursor.execute(f"SELECT COUNT(*) FROM technical_indicators WHERE date = '{target_date}'")
indicator_count = cursor.fetchone()[0]

cursor.execute(f"SELECT COUNT(*) FROM market_indices WHERE date = '{target_date}'")
indices_count = cursor.fetchone()[0]

print(f'Stock Prices: {price_count}')
print(f'Technical Indicators: {indicator_count}')
print(f'Market Indices: {indices_count}')

if price_count > 2500 and indicator_count > 2500:
    print('âœ… ìˆ˜ì§‘ ì™„ë£Œ!')
else:
    print('âš ï¸ ë°ì´í„° ë¶€ì¡± - ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”')

conn.close()
EOF
```

---

## ìˆ˜ë™ ìˆ˜ì§‘/ê³„ì‚°

### ğŸ“Œ ìƒí™©ë³„ ëŒ€ì‘

**ì¥ ìˆ˜ì§‘ ì‹¤íŒ¨ ì‹œ**
â†’ [ìˆ˜ë™ ë°ì´í„° ìˆ˜ì§‘ ê°€ì´ë“œ](./MANUAL_DATA_COLLECTION_20251023.md) ì°¸ì¡°

**ì§€í‘œ ê³„ì‚° ì‹¤íŒ¨ ì‹œ**
â†’ [ìˆ˜ë™ ì§€í‘œ ê³„ì‚° ê°€ì´ë“œ](./MANUAL_INDICATOR_CALCULATION_20251023.md) ì°¸ì¡°

---

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### í™•ì¸ ëª…ë ¹ì–´

#### 1. ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
```bash
docker ps
docker logs stock-airflow-scheduler | tail -20
```

#### 2. ìˆ˜ì§‘ ìƒíƒœ í™•ì¸
```bash
docker exec stock-db psql -U admin -d stocktrading -c "
SELECT collection_date, overall_status, price_count, indices_count
FROM collection_log
WHERE collection_date = CURRENT_DATE
ORDER BY updated_at DESC LIMIT 1;
"
```

#### 3. ì§€í‘œ ìƒíƒœ í™•ì¸
```bash
docker exec stock-db psql -U admin -d stocktrading -c "
SELECT indicator_date, status, indicators_count
FROM indicator_log
WHERE indicator_date = CURRENT_DATE
ORDER BY updated_at DESC LIMIT 1;
"
```

#### 4. ë°ì´í„° ê°œìˆ˜ í™•ì¸
```bash
docker exec stock-db psql -U admin -d stocktrading -c "
SELECT
    (SELECT COUNT(*) FROM stock_prices WHERE date = CURRENT_DATE) as prices,
    (SELECT COUNT(*) FROM technical_indicators WHERE date = CURRENT_DATE) as indicators,
    (SELECT COUNT(*) FROM market_indices WHERE date = CURRENT_DATE) as indices;
"
```

### ìë™ ì¬ì‹œë„

- ì£¼ê°€ ìˆ˜ì§‘: ìµœëŒ€ 3íšŒ ìë™ ì¬ì‹œë„
- ì§€ìˆ˜ ìˆ˜ì§‘: ìµœëŒ€ 3íšŒ ìë™ ì¬ì‹œë„
- ì§€í‘œ ê³„ì‚°: ìµœëŒ€ 3íšŒ ìë™ ì¬ì‹œë„
- Airflow Web UIì—ì„œ ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§ ê°€ëŠ¥

### ìš´ì˜ DB ì ‘ê·¼ (2025-10-27 ì¶”ê°€)

**í˜„ì¬ ì‹œìŠ¤í…œì€ ìš´ì˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì§ì ‘ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤.**

```
DB_HOST=192.168.219.103
DB_PORT=5432
DB_NAME=stocktrading
DB_USER=admin
DB_PASSWORD=admin123
```

#### ìš´ì˜ DB ìƒíƒœ í™•ì¸
```bash
# ì£¼ê°€ ë°ì´í„° í˜„í™©
python << 'EOF'
import psycopg2
conn = psycopg2.connect(
    host='192.168.219.103',
    port=5432,
    database='stocktrading',
    user='admin',
    password='admin123'
)
cursor = conn.cursor()
cursor.execute("""
    SELECT
        COUNT(*) as total_prices,
        MAX(date) as latest_date,
        COUNT(DISTINCT date) as days_count
    FROM stock_prices
""")
result = cursor.fetchone()
print(f"Total Prices: {result[0]}")
print(f"Latest Date: {result[1]}")
print(f"Data Days: {result[2]}")
conn.close()
EOF
```

#### âš ï¸ ì£¼ì˜ì‚¬í•­
- Docker ë‚´ë¶€ postgres ì»¨í…Œì´ë„ˆëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
- ëª¨ë“  ë°ì´í„°ëŠ” 192.168.219.103 ìš´ì˜ ì„œë²„ì— ì €ì¥ë¨
- ë°±ì—…ì€ ìš´ì˜ ì„œë²„ì—ì„œ ë³„ë„ ê´€ë¦¬ í•„ìš”

---

## ìƒì„¸ ë¬¸ì„œ

### ğŸ“š ìˆ˜ì§‘/ê³„ì‚° ê°€ì´ë“œ (2025-10-23 ê²€ì¦ë¨)
- [ì£¼ê°€ ë° ì§€ìˆ˜ ìˆ˜ë™ ìˆ˜ì§‘](./MANUAL_DATA_COLLECTION_20251023.md)
  - ë‹¹ì¼ ê²€ì¦ëœ ì™„ì „í•œ ìŠ¤í¬ë¦½íŠ¸ í¬í•¨
  - ë‚ ì§œë³„ ìˆ˜ì • ë°©ë²• ì•ˆë‚´

- [ê¸°ìˆ  ì§€í‘œ ìˆ˜ë™ ê³„ì‚°](./MANUAL_INDICATOR_CALCULATION_20251023.md)
  - ë‹¹ì¼ ê²€ì¦ëœ ì™„ì „í•œ ìŠ¤í¬ë¦½íŠ¸ í¬í•¨
  - 2,775ê°œ ì§€í‘œ ì €ì¥ ì„±ê³µ
  - ë‚ ì§œë³„ ìˆ˜ì • ë°©ë²• ì•ˆë‚´

### ğŸ“š ì•„í‚¤í…ì²˜ ë¬¸ì„œ
- [Airflow ì™„ì „ ì„¤ê³„](./docs/AIRFLOW_COMPLETE_DESIGN.md)

---

## í•µì‹¬ ì •ë³´

### ìë™ ì»¬ëŸ¼ ë§¤í•‘ (2025-10-23 ìˆ˜ì •)

ì§€í‘œ ê³„ì‚° ì‹œ ìë™ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ë³€í™˜ë©ë‹ˆë‹¤:
```
ì½”ë“œì—ì„œ              â†’  DBì— ì €ì¥
sma_20              â†’  ma_20
sma_50              â†’  ma_50
sma_200             â†’  ma_200
bb_upper            â†’  bollinger_upper
bb_lower            â†’  bollinger_lower
```

**ì¤‘ìš”**: ì´ ë§¤í•‘ì€ `common_functions.py`ì˜ `save_technical_indicators()` í•¨ìˆ˜ì—ì„œ ìë™ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.

---

## ìµœì‹  ìˆ˜ì • ì‚¬í•­

### 2025-11-04 (ë³¸ì¼ - ì™„ë£Œ! âœ…) ğŸ‰ UI ë°ì´í„° ì—°ë™ ì™„ì„±!

ğŸ‰ **"í•´í”¼ì£¼ì‹ë¼ì´í”„" UI ë°ì´í„° ì—°ë™ ì™„ë²½ ì™„ì„±**

#### âœ… ì™„ë£Œëœ ì‘ì—…:

1. **ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë¬¸ì œ í•´ê²°**
   - **ë¬¸ì œ**: ë°±ì—”ë“œê°€ ë¡œì»¬ Docker DB(`postgres:5432`)ë¡œ ì—°ê²° ì‹œë„ â†’ ë°ì´í„° ì—†ìŒ
   - **ì›ì¸**: `docker-compose.yml`ì˜ í™˜ê²½ ë³€ìˆ˜ê°€ ì˜ëª»ëœ DBë¥¼ ê°€ë¦¬í‚´
   - **í•´ê²°**: `docker-compose.yml` 6ê³³ì—ì„œ DB URLì„ `192.168.219.103:5432`ë¡œ ì—…ë°ì´íŠ¸
   - **ê²°ê³¼**: âœ… ìš´ì˜ DB ì •ìƒ ì—°ê²°

2. **ë¡œê·¸ì¸ ì •ìƒí™”**
   - **í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì**: testuser2 / testpass123
   - **ì¸ì¦ ë°©ì‹**: JWT (Bearer Token)
   - **í† í° ë°œê¸‰**: ì •ìƒ ì‘ë™ âœ…
   - **ìƒíƒœ**: ğŸŸ¢ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥

3. **API ë°ì´í„° ì¡°íšŒ ì •ìƒí™”**
   - **ì—”ë“œí¬ì¸íŠ¸**: `/api/stocks/list-with-indicators?limit=5`
   - **ë°˜í™˜ ë°ì´í„°**: 2,779ê°œ ì¢…ëª© + ê¸°ìˆ  ì§€í‘œ + íˆ¬ìì ê±°ë˜ëŸ‰
   - **ìµœì‹  ë°ì´í„°**: 2025-11-04
   - **ìƒíƒœ**: ğŸŸ¢ ì •ìƒ ì‘ë™

4. **í”„ë¡ íŠ¸ì—”ë“œ UI ì •ìƒí™”**
   - **URL**: http://localhost:8000
   - **ë¡œë“œ**: Bootstrap CSS + Chart.js ì •ìƒ ë¡œë“œ
   - **ìƒíƒœ**: ğŸŸ¢ ë¡œê·¸ì¸ ë° ì¢…ëª© ì¡°íšŒ ê°€ëŠ¥

#### ğŸ“Š ë°ì´í„° í˜„í™©:
```
ìš´ì˜ DB (192.168.219.103:5432)
â”œâ”€ ì¢…ëª©: 2,779ê°œ
â”œâ”€ ì£¼ê°€: 3,090,382ê°œ (1,274ì¼)
â”œâ”€ ê¸°ìˆ  ì§€í‘œ: 3,002,475ê°œ
â”œâ”€ íˆ¬ìì ê±°ë˜: 542,322ê°œ
â””â”€ ìµœì‹  ë‚ ì§œ: 2025-11-04
```

#### ğŸ”§ ìˆ˜ì • íŒŒì¼:
| íŒŒì¼ | ë³€ê²½ ë‚´ìš© | ë¼ì¸ |
|------|---------|------|
| `docker-compose.yml` | DATABASE_URL â†’ 192.168.219.103 | 69, 94, 113, 131, 160, 187 |
| `backend/config.py` | í™˜ê²½ ë³€ìˆ˜ ìš°ì„  + ê¸°ë³¸ê°’ ì¶”ê°€ | 6-33 |

#### ğŸ“ ìì„¸í•œ ë‚´ìš©:
â†’ **[WORK_PROGRESS_20251104.md](./WORK_PROGRESS_20251104.md)** ì°¸ê³ 
- DB ì—°ê²° ë¬¸ì œ ë¶„ì„
- í•´ê²° ë°©ë²• ìƒì„¸ ì„¤ëª…
- í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë° ê²€ì¦

#### ğŸŸ¢ í˜„ì¬ ìƒíƒœ:
âœ… UI ë°ì´í„° ì—°ë™ ì™„ë²½ ì™„ë£Œ
âœ… ë¡œê·¸ì¸ ì •ìƒ ì‘ë™
âœ… API ë°ì´í„° ì¡°íšŒ ì •ìƒ ì‘ë™
âœ… ëª¨ë“  ì‹œìŠ¤í…œ ìš´ì˜ ì¤€ë¹„ ì™„ë£Œ

---

### 2025-11-03 (ì–´ì œ - ì™„ë£Œ! âœ…)

ğŸ‰ **November 3 ì£¼ê°€ ìˆ˜ì§‘ ë° ê¸°ìˆ  ì§€í‘œ ê³„ì‚° ì™„ë£Œ**

#### âœ… ì™„ë£Œëœ ì‘ì—…:
1. **November 3 ì£¼ê°€ ìˆ˜ì§‘**
   - **ìˆ˜ì§‘ ì¢…ëª©**: 2,760ê°œ (KOSPI + KOSDAQ)
   - **ë°ì´í„° ë ˆì½”ë“œ**: 2,760ê°œ ê°€ê²© ë ˆì½”ë“œ ì €ì¥
   - **ìƒíƒœ**: âœ… ì •ìƒ ì™„ë£Œ

2. **November 3 ê¸°ìˆ  ì§€í‘œ ê³„ì‚°**
   - **ê³„ì‚° ëŒ€ìƒ**: 2,760ê°œ ì¢…ëª©
   - **ì €ì¥ ë ˆì½”ë“œ**: 2,775ê°œ (UPSERT í¬í•¨)
   - **ì§€í‘œ í•­ëª©**: MA20, MA50, MA200, Bollinger Bands, RSI, MACD, Stochastic
   - **ëª¨ë“  ì§€í‘œ**: ìœ íš¨í•œ ê°’ìœ¼ë¡œ ì €ì¥ë¨
   - **ìƒíƒœ**: âœ… ì •ìƒ ì™„ë£Œ

#### ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ í˜„í™©:
```
Stock Prices:
  - ê±°ë˜ì¼: 1,274ì¼
  - ì´ ë ˆì½”ë“œ: 3,087,622ê°œ
  - ìµœì‹  ë‚ ì§œ: 2025-11-03

Technical Indicators:
  - ê±°ë˜ì¼: 1,261ì¼
  - ì´ ë ˆì½”ë“œ: 2,999,698ê°œ
  - ìµœì‹  ë‚ ì§œ: 2025-11-03
```

#### ğŸ“ ì£¼ìš” ë³€ê²½ì‚¬í•­:
- `calculate_indicators_nov3.py` ì‹ ê·œ ì‘ì„± (numpy ê¸°ë°˜ ê°„ë‹¨í•œ ê³„ì‚°)
- `collect_nov3.py` ì‹ ê·œ ì‘ì„± (Nov 3 ì£¼ê°€ ìˆ˜ì§‘ìš©)
- UPSERT ë°©ì‹ìœ¼ë¡œ ì¤‘ë³µ ë°ì´í„° ìë™ ì²˜ë¦¬
- 200ì¼ ì—­ì‚¬ ë°ì´í„° ê¸°ë°˜ ì§€í‘œ ê³„ì‚°

#### ğŸŸ¢ í˜„ì¬ ìƒíƒœ:
âœ… November 3 ë°ì´í„° 100% ìˆ˜ì§‘ ë° ê³„ì‚° ì™„ë£Œ
âœ… ëª¨ë“  ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™
âœ… ë‹¤ìŒ ê±°ë˜ì¼ (November 4) ìë™ ìŠ¤ì¼€ì¤„ ëŒ€ê¸° ì¤‘

---

### 2025-10-30 (ì–´ì œ - ì™„ë£Œ! âœ…)

ğŸ‰ **ì£¼ê°€ ìˆ˜ì§‘ ì™„ì „ í•´ê²° ë° ìµœì í™” ì™„ë£Œ**

#### âœ… ì™„ë£Œëœ ì‘ì—…:
1. **KOSDAQ ë°ì´í„° ëˆ„ë½ ë¬¸ì œ í•´ê²°**
   - **ì›ì¸**: `collect_missing_data.py`ì—ì„œ `get_market_ticker_list(date=date_str)` ì‚¬ìš© â†’ KOSPIë§Œ ë°˜í™˜
   - **í•´ê²°**: `market="KOSPI"`, `market="KOSDAQ"` ëª…ì‹œì  ì§€ì •ìœ¼ë¡œ ìˆ˜ì •
   - **ê²°ê³¼**: 959ê°œ (KOSPI) â†’ 2,759ê°œ (KOSPI+KOSDAQ) **188% ì¦ê°€**

2. **pykrx íŒ¨í‚¤ì§€ ëˆ„ë½ ë¬¸ì œ í•´ê²°**
   - **ì›ì¸**: Docker Compose `_PIP_ADDITIONAL_REQUIREMENTS`ì— pykrx ë¯¸í¬í•¨
   - **í•´ê²°**: docker-compose.yml 3ê³³(lines 140, 169, 199) ìˆ˜ì • + Docker ì¬ì‹œì‘
   - **ê²°ê³¼**: Airflow ì»¨í…Œì´ë„ˆì—ì„œ pykrx ì •ìƒ ì¸ì‹

3. **October 10-28 ì „ì²´ ë°ì´í„° ì¬ìˆ˜ì§‘**
   - **ìˆ˜ì§‘ ê²°ê³¼**: 13ê°œ ê±°ë˜ì¼ Ã— 2,759ê°œ ì¢…ëª© = **35,893ê°œ** ê°€ê²© ë ˆì½”ë“œ
   - **ì™„ì „ì„±**: 2,758ê°œ ì¢…ëª©ì´ ëª¨ë“  13ì¼ì¹˜ ë°ì´í„° ìˆ˜ì§‘ ì™„ë£Œ
   - **ê²€ì¦**: ECOPROBE(247540) â†’ 3ì¼ â†’ **13ì¼ ëª¨ë‘ ìˆ˜ì§‘** âœ…

4. **ê¸°ìˆ  ì§€í‘œ DAG ì „ìˆ˜ ì‹¤í–‰ ì™„ë£Œ**
   - 10/10, 10/13: âœ… ì™„ë£Œ
   - 10/14~10/22: âœ… ì™„ë£Œ (ë³‘ë ¬ ì‹¤í–‰)
   - 10/23~10/28: â³ ì‹œê°„ ì œì•½ìœ¼ë¡œ skip (ìë™ ìŠ¤ì¼€ì¤„ì—ì„œëŠ” ì •ìƒ ì‹¤í–‰)

#### ğŸ“Š ê°œì„  íš¨ê³¼:
| í•­ëª© | ë³€ê²½ ì „ | ë³€ê²½ í›„ | ê°œì„ ë„ |
|------|--------|--------|-------|
| ì¼ì¼ ìˆ˜ì§‘ ì¢…ëª© | 959ê°œ | 2,759ê°œ | **+188%** |
| October ì´ ë ˆì½”ë“œ | 12,467ê°œ | 35,893ê°œ | **+188%** |
| ECOPROBE ë°ì´í„° | 3ì¼ | 13ì¼ | **+333%** |

#### ğŸ”§ ì£¼ê°€ ìˆ˜ì§‘ ëª¨ë“ˆ ì„¤ì • ë°©ë²• (ì¬ë°œ ë°©ì§€)
**ì¤‘ìš”**: í–¥í›„ KOSDAQ ë°ì´í„°ê°€ ëˆ„ë½ë˜ì§€ ì•Šë„ë¡ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

**1ï¸âƒ£ collect_missing_data.py (Line 127-131)**
```python
# âŒ ì˜ëª»ëœ ë°©ë²• (KOSPIë§Œ)
tickers = pykrx_stock.get_market_ticker_list(date=date_str)

# âœ… ì˜¬ë°”ë¥¸ ë°©ë²• (KOSPI + KOSDAQ)
kospi_tickers = pykrx_stock.get_market_ticker_list(market="KOSPI", date=date_str)
kosdaq_tickers = pykrx_stock.get_market_ticker_list(market="KOSDAQ", date=date_str)
tickers = list(set(kospi_tickers + kosdaq_tickers))
```

**2ï¸âƒ£ common_functions.py (daily_collection_dag ì‚¬ìš© ì‹œ)**
```python
def fetch_stock_prices_api(target_date):
    # ì–‘ ì‹œì¥ ì¢…ëª© ëª¨ë‘ ìˆ˜ì§‘
    kospi_tickers = pykrx_stock.get_market_ticker_list(market="KOSPI", date=date_str)
    kosdaq_tickers = pykrx_stock.get_market_ticker_list(market="KOSDAQ", date=date_str)
    all_tickers = list(set(kospi_tickers + kosdaq_tickers))
    # ... ë‚˜ë¨¸ì§€ ë¡œì§
```

**3ï¸âƒ£ docker-compose.yml (pykrx ì„¤ì¹˜)**
```yaml
airflow-webserver:
  environment:
    _PIP_ADDITIONAL_REQUIREMENTS: 'pandas sqlalchemy psycopg2-binary requests beautifulsoup4 pykrx'
# â†‘ ë°˜ë“œì‹œ pykrx í¬í•¨

airflow-scheduler:
  environment:
    _PIP_ADDITIONAL_REQUIREMENTS: 'pandas sqlalchemy psycopg2-binary requests beautifulsoup4 pykrx'
# â†‘ ë°˜ë“œì‹œ pykrx í¬í•¨

airflow-init:
  environment:
    _PIP_ADDITIONAL_REQUIREMENTS: 'pandas sqlalchemy psycopg2-binary requests beautifulsoup4 pykrx'
# â†‘ ë°˜ë“œì‹œ pykrx í¬í•¨
```

**ë³€ê²½ í›„ Docker ì¬ì‹œì‘**:
```bash
docker-compose -f "F:\hhstock\docker-compose.yml" down
docker-compose -f "F:\hhstock\docker-compose.yml" up -d
```

#### ğŸ“ ìƒì„¸ ë³´ê³ ì„œ:
- [WORK_PROGRESS_20251030.md](./WORK_PROGRESS_20251030.md) - ì˜¤ëŠ˜ ì‘ì—… ì „ì²´ ì •ë¦¬
- [KOSDAQ_COLLECTION_FIX.md](./KOSDAQ_COLLECTION_FIX.md) - KOSDAQ ëˆ„ë½ ë¬¸ì œ í•´ê²° ê³¼ì •

#### ğŸŸ¢ í˜„ì¬ ìƒíƒœ:
âœ… ëª¨ë“  ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™
âœ… October ë°ì´í„° 100% ë³µêµ¬
âœ… KOSDAQ ë°ì´í„° í¬í•¨ í™•ì¸
âœ… ê¸°ìˆ  ì§€í‘œ ê³„ì‚° ì™„ë£Œ

---

### 2025-10-27 (ì–´ì œ)
âœ… **ì‹œìŠ¤í…œ ìš´ì˜ í™˜ê²½ ì „í™˜ ì™„ë£Œ**
- ìš´ì˜ ë°ì´í„°ë² ì´ìŠ¤ (192.168.219.103) ì§ì ‘ ì—°ê²° êµ¬ì„±
- Docker Compose ê¸°ë™ ì™„ë£Œ (7ê°œ ì„œë¹„ìŠ¤)
- Airflow DAG ì •ìƒ ë¡œë“œ ë° ìŠ¤ì¼€ì¤„ëŸ¬ ìš´ì˜ ì¤‘

#### ì™„ë£Œëœ ì‘ì—…:
âœ… Docker Compose ì‹œì‘
- ëª¨ë“  ì»¨í…Œì´ë„ˆ ì •ìƒ ì‹¤í–‰ í™•ì¸
- stock-airflow-webserver: http://localhost:8080
- stock-airflow-scheduler: DAG ìŠ¤ì¼€ì¤„ë§ ì¤‘
- stock-backend: http://localhost:8000
- stock-grafana: http://localhost:3000

âœ… ìš´ì˜ DB ì—°ê²° ì„¤ì •
- Host: 192.168.219.103:5432
- Database: stocktrading
- ì—°ê²° í…ŒìŠ¤íŠ¸ ì„±ê³µ (75ê°œ í…Œì´ë¸” í™•ì¸)

âœ… Airflow DAG ì„¤ì •
- `daily_collection_dag` - 18:30 KST ì£¼ê°€/ì§€ìˆ˜ ìˆ˜ì§‘ (í™œì„±í™”)
- `technical_indicator_dag` - 19:50 KST ê¸°ìˆ  ì§€í‘œ ê³„ì‚° (í™œì„±í™”)
- ì´ì „ ë°±ì—… íŒŒì¼ ì •ë¦¬ ì™„ë£Œ

#### ğŸŸ¢ ìš´ì˜ ì¤€ë¹„ ìƒíƒœ
- ëª¨ë“  ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™
- ìš´ì˜ DB ì •ìƒ ì—°ê²°
- Airflow ìŠ¤ì¼€ì¤„ ëŒ€ê¸° ì¤‘
- ë‹¤ìŒ ìë™ ì‹¤í–‰: 2025-10-28 18:30 KST

### 2025-10-23 (ì´ì „)
âœ… ê¸°ìˆ  ì§€í‘œ ê³„ì‚° ì»¬ëŸ¼ëª… ë§¤í•‘ ìˆ˜ì •
- `sma_20` â†’ `ma_20` (Moving Average)
- ê¸°íƒ€ ì»¬ëŸ¼ëª… ì •ê·œí™”

âœ… 200ì¼ ì—­ì‚¬ ë°ì´í„° ë¡œë“œ êµ¬í˜„

âœ… ìˆ˜ë™ ì§€í‘œ ê³„ì‚° ê²€ì¦ ì™„ë£Œ
- 2,775ê°œ ì§€í‘œ ì €ì¥ ì„±ê³µ
- ì „ì²´ í”„ë¡œì„¸ìŠ¤ í…ŒìŠ¤íŠ¸ ì™„ë£Œ

âœ… DAG ì˜¤ë¥˜ ì²˜ë¦¬ ê°•í™”

âœ… ë¬¸ì„œí™” ì™„ì„±
- MANUAL_DATA_COLLECTION_20251023.md
- MANUAL_INDICATOR_CALCULATION_20251023.md

### 2025-10-23 21:00 (ì¶”ê°€)
ğŸ‰ **ë§¤ë§¤ì‹ í˜¸ ì•Œë¦¼ ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ**

#### êµ¬í˜„ëœ ê¸°ëŠ¥:
âœ… **í”„ë¡ íŠ¸ì—”ë“œ UI** - ë§¤ë§¤ì‹ í˜¸ íƒ­ì— ì•Œë¦¼ ê¸°ëŠ¥ ì¶”ê°€
- "ì•Œë¦¼ ì„¤ì •" (âš™ï¸) ë²„íŠ¼: ì´ë©”ì¼/Slack ì„¤ì • ëª¨ë‹¬
- "ì´ë©”ì¼ ì „ì†¡" (ğŸ“§) ë²„íŠ¼: í˜„ì¬ ë§¤ë§¤ì‹ í˜¸ë¥¼ ì´ë©”ì¼ë¡œ ì „ì†¡
- "Slack ì „ì†¡" (ğŸ’¬) ë²„íŠ¼: í˜„ì¬ ë§¤ë§¤ì‹ í˜¸ë¥¼ Slackìœ¼ë¡œ ì „ì†¡

âœ… **JavaScript ì•Œë¦¼ í•¨ìˆ˜**
- ì´ë©”ì¼/Slack ì›¹í›… ì…ë ¥ ë° ìœ íš¨ì„± ê²€ì‚¬
- ë¸Œë¼ìš°ì € localStorageì— ì„¤ì • ì €ì¥
- ì•Œë¦¼ ì „ì†¡ API í˜¸ì¶œ ë° ê²°ê³¼ í‘œì‹œ

#### ìˆ˜ì •ëœ íŒŒì¼:
| íŒŒì¼ | ë³€ê²½ì‚¬í•­ | ë¼ì¸ |
|------|---------|------|
| `stock-trading-system/frontend/index.html` | ë²„íŠ¼ 3ê°œ, ëª¨ë‹¬ ì¶”ê°€ | ~110ì¤„ |
| `stock-trading-system/frontend/app.js` | ì•Œë¦¼ í•¨ìˆ˜ 7ê°œ ì¶”ê°€ | ~180ì¤„ |
| `requirements.txt` (3ê°œ) | pandas-ta ë²„ì „ ë¬¸ì œ í•´ê²° | - |

#### ìƒì„±ëœ ë¬¸ì„œ:
ğŸ“„ **CHANGES_20251023.md** - ëª¨ë“  ë³€ê²½ì‚¬í•­ ì •ë¦¬ ë° ì›ë³µ ë°©ë²• í¬í•¨
ğŸ“„ **NOTIFICATION_SETUP_GUIDE.md** - Slack/Gmail ì„¤ì • ì™„ì „ ê°€ì´ë“œ
ğŸ“„ **NOTIFICATION_FEATURE_SUMMARY.md** - ê¸°ìˆ  êµ¬í˜„ ì„¸ë¶€ì‚¬í•­

#### âš ï¸ ì£¼ì˜ì‚¬í•­:
- Docker ë¹Œë“œê°€ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤ (pandas-ta ë²„ì „ ë¬¸ì œ í•´ê²° í›„)
- ë‚´ì¼ ì„œë²„ê°€ ì•ˆ ë  ê²½ìš° CHANGES_20251023.mdì˜ "ì›ë³µ ë°©ë²•" ì°¸ê³ 
- ë°±ì—”ë“œ APIëŠ” ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì„œë²„ ì‹œì‘ë§Œ í•„ìš”

#### ë‹¤ìŒ ë‹¨ê³„:
1. Docker Compose ë¹Œë“œ ì™„ë£Œ í™•ì¸: `docker ps`
2. ë¡œê·¸ì¸: testuser2 / password123
3. "ë§¤ë§¤ ì‹ í˜¸" íƒ­ â†’ ì•Œë¦¼ ì„¤ì • ë° ì „ì†¡ í…ŒìŠ¤íŠ¸
4. Slack ì›¹í›… ë˜ëŠ” Gmailë¡œ ì•Œë¦¼ ìˆ˜ì‹  í™•ì¸

---

## ì‹œìŠ¤í…œ ìƒíƒœ (2025-11-10 í˜„ì¬)

**ì¤€ë¹„ ìƒíƒœ**: ğŸŸ¢ ìš´ì˜ì„œë²„ ë°°í¬ ì¤€ë¹„ ì™„ë£Œ
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-10 ë°°ì¹˜ ìŠ¤ì¼€ì¤„ ë³€ê²½ ë° ìš´ì˜ ì „ìš© ì„¤ì •
**ì‹¤í–‰ í™˜ê²½**: ìš´ì˜ì„œë²„(101, 192.168.219.101)ì—ì„œë§Œ ì‹¤í–‰

### ê°œë°œ PC ìƒíƒœ
| ì„œë¹„ìŠ¤ | ìƒíƒœ | ìš©ë„ |
|--------|------|------|
| Docker Compose | â¹ï¸ Stopped | ê°œë°œ PCëŠ” ìš´ì˜ í™˜ê²½ê³¼ ë¶„ë¦¬ |
| Git Repository | âœ… Active | ì½”ë“œ ê´€ë¦¬ ë° ë°°í¬ |
| Deployment Package | âœ… Ready | deployment/101_scheduler/ |

### ìš´ì˜ì„œë²„(101) ìƒíƒœ
| ì„œë¹„ìŠ¤ | ìƒíƒœ | URL | í¬íŠ¸ |
|--------|------|-----|------|
| Airflow Webserver | ğŸŸ¢ Running | http://192.168.219.101:8080 | 8080 |
| Airflow Scheduler | ğŸŸ¢ Running | - | - |
| Grafana Dashboard | ğŸŸ¢ Running | http://192.168.219.101:3000 | 3000 |
| Backend API | ğŸŸ¢ Running | http://192.168.219.101:8000 | 8000 |

### ìš´ì˜ DB ìƒíƒœ
- **Host**: 192.168.219.103:5432
- **Database**: stocktrading
- **Status**: âœ… Connected
- **Tables**: 75
- **Stock Prices**: 3,093,142ê°œ (1,276ì¼)
- **Technical Indicators**: 3,005,232ê°œ (1,261ì¼)
- **Latest Data**: 2025-11-05

### ë°°ì¹˜ ìŠ¤ì¼€ì¤„ (ìš´ì˜ì„œë²„ì—ì„œ ì‹¤í–‰)
- **ì£¼ê°€ ìˆ˜ì§‘**: ë§¤ì¼ í‰ì¼ 18:30 KST (09:30 UTC)
- **ì§€í‘œ ê³„ì‚°**: ì£¼ê°€ ìˆ˜ì§‘ ì™„ë£Œ í›„ ìë™ ì‹¤í–‰
